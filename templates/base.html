<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>

    <!-- Theme CSS -->
    <link rel="stylesheet" href="{{ basePath }}/styles/theme.css">

    <!-- Highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/tokyo-night-dark.min.css">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar glass-header">
        <div class="navbar-content">
            <a href="{{ basePath }}/index.html" class="logo">
                <div class="logo-icon">
                    <i data-lucide="terminal"></i>
                </div>
                <span>Alexander Shalin</span>
            </a>

            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
                <i data-lucide="menu"></i>
            </button>

            <ul class="nav-links" id="navLinks">
                <li><a href="{{ basePath }}/index.html" class="{{ activeNav === 'home' ? 'active' : '' }}">Заметки</a></li>
                <li><a href="{{ basePath }}/snippets.html" class="{{ activeNav === 'snippets' ? 'active' : '' }}">Сниппеты</a></li>
                <li><a href="{{ basePath }}/projects.html" class="{{ activeNav === 'projects' ? 'active' : '' }}">Проекты</a></li>
                <li><a href="https://defaultdomain.ru/" target="_blank">Резюме</a></li>
            </ul>
        </div>
    </nav>

    <!-- Content -->
    {{ content }}

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p class="footer-text">© 2025 Alexander Shalin • Junior DevOps Engineer</p>
            <ul class="social-links">
                <li>
                    <a href="https://github.com/ShalunBdk" target="_blank" title="GitHub">
                        <i data-lucide="github"></i>
                    </a>
                </li>
                <li>
                    <a href="https://t.me/shalunbdk" target="_blank" title="Telegram">
                        <i data-lucide="send"></i>
                    </a>
                </li>
                <li>
                    <a href="mailto:shalin-ar@defauldomain.ru" title="Email">
                        <i data-lucide="mail"></i>
                    </a>
                </li>
            </ul>
        </div>
    </footer>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');
        const menuIcon = mobileMenuBtn?.querySelector('i');

        if (mobileMenuBtn && navLinks) {
            mobileMenuBtn.addEventListener('click', function() {
                navLinks.classList.toggle('active');

                // Toggle icon between menu and X
                if (navLinks.classList.contains('active')) {
                    menuIcon.setAttribute('data-lucide', 'x');
                } else {
                    menuIcon.setAttribute('data-lucide', 'menu');
                }

                // Reinitialize icons
                lucide.createIcons();
            });

            // Close menu when clicking on a link
            navLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', function() {
                    navLinks.classList.remove('active');
                    menuIcon.setAttribute('data-lucide', 'menu');
                    lucide.createIcons();
                });
            });

            // Close menu when clicking outside
            document.addEventListener('click', function(event) {
                const isClickInsideNav = navLinks.contains(event.target) || mobileMenuBtn.contains(event.target);
                if (!isClickInsideNav && navLinks.classList.contains('active')) {
                    navLinks.classList.remove('active');
                    menuIcon.setAttribute('data-lucide', 'menu');
                    lucide.createIcons();
                }
            });
        }

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>
